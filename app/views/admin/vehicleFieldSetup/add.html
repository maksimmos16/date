{% extends "admin/partials/layout.njk" %} 

{% block body %}
 <div class="section__content section__content--p30">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <form action="{{ config.baseUrl }}admin/vehicleFieldSetup/addfield" method="post" class="form-horizontal" id="supportPageForm">    
                    <div class="card">
                        <div class="card-header">
                            <strong>Add Field</strong>
                            {# <div class="table-data__tool-right" style="float: right;">
                                <button type="button" id="addfield" class="btn btn-primary btn-sm">
                                    <i class="fa fa-dot-circle-o"></i> Add Field
                                </button>
                            </div> #}
                        </div>
                        <div class="card-body card-block st1">
                            <div class="row form-group">
                                <div class="col col-md-3">
                                    <label for="parentField" class=" form-control-label">Select Main Field</label>
                                </div>
                                <div class="col-12 col-md-9">
                                    <select id="parentField" name="parentFieldId">
                                        <option value="">Select Field</option>
                                        {% for parentFieldData in parentField %}
                                        <option value="{{parentFieldData._id}}" name="{{parentFieldData._id}}">{{parentFieldData.fieldName}}</option>
                                        {% else %}
                                        <option value="">No Field Avilable</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col col-md-3">
                                    <label for="fieldName" class=" form-control-label">Field Name</label>
                                </div>
                                <div class="col-12 col-md-9">
                                    <input type="text" id="fieldName" name="fieldName" required placeholder="Enter Field Name" class="form-control" value="">
                                </div>
                            </div>
                         </div>
                        <div class="card-footer">
                            <button type="submit" class="btn btn-primary btn-sm">
                                <i class="fa fa-dot-circle-o"></i> Add Field
                            </button>
                             <a href="/admin/vehicleFieldSetup"><button type="reset" class="btn btn-danger btn-sm">
                                  <i class="fa fa-arrow-left"></i> Back
                            </button></a>
                        </div>
                    </div>
                </form>   
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="copyright">
                    <p>Copyright Â© 2020-2021 <a href="/admin/dashboard">{{settingDetail.site_name}}</a>. All Rights Reserved.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
<script type="text/javascript" src="/admin/js/editor.js"></script>
<script>
  $(document).ready(function(){
    $("#supportPageForm").validate({
      rules:{
        fieldName : {
          required : true
        }
      },
      messages:{
        fieldName : {
          required : "Please Enter Field Code",
        }
      }
    });
  });

   new FroalaEditor('#description');

    let stCounter = 1;

    // [ Add New Fields ]
    {# $('body').on('click', '#addCat', function(){
        
        stCounter = stCounter + 1;
        let tmp = ` <div class="row form-group">
                        <div class="col col-md-3">
                            <label for="vehicleFieldSetupName" class=" form-control-label">Field Name</label>
                        </div>
                        <div class="col-12 col-md-9">
                            <input type="text" id="vehicleFieldSetupName" name="vehicleFieldSetupName`+stCounter+`"  placeholder="Enter Field Name" class="form-control" value="">
                        </div>
                    </div>`;
        $('.st1').append(tmp);
    }); #}

</script>
{% endblock %}