{% extends "web/partation/layout.html" %}

{% block body %}
<!-- mid part start -->
<div class="mid-part">
    <div class="container">
        <!-- profile tab start -->
        <div class="profile-tab">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="profile-edit">
                    <div class="profile-upload">
                        <div class="circle"><img class="profile-pic" src="{{config.baseUrl}}{{user_data.profilePic}}"
                                alt=""></div>
                        <div class="p-image ">
                            <i class="flava-edit upload-button"></i>
                            <input class="file-upload" type="file" accept="image/*" />
                        </div>
                    </div>
                    <div class="pe-name"><span class="usName" data-name="{{user_data.username}}">{{user_data.username}}</span></div>
                    <div class="pe-edit"><a href="#" class="edit-btn"><i class="flava-edit"></i></a></div>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#basic-info" role="tab"
                        aria-controls="basic-info">Basic Information</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#additional-info" role="tab"
                        aria-controls="additional-info">Additional Information</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#notification-setting" role="tab"
                        aria-controls="notification-setting">Notification Settings</a>
                </li>
            </ul>

            <div class="tab-content">
                <!-- Basic Information start -->
                <div class="tab-pane active" id="basic-info" role="tabpanel">
                    <div class="additional-info-form">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="aif-title">my profile</div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>First Name</label>
                                    <input type="text" class="form-control fname" value="{{user_data.firstName}}"
                                        placeholder="David">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Last Name</label>
                                    <input type="text" class="form-control lname" value="{{user_data.lastName}}"
                                        placeholder="Edler">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>User Name</label>
                                    <input type="text" class="form-control uname" value="{{user_data.username}}"
                                        placeholder="David Edler 58">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Mobile Number</label>
                                    <input type="text" class="form-control phno" value="{{user_data.phno}}"
                                        placeholder="6385 72 5934">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Email</label>
                                    <input type="text" class="form-control email" value="{{user_data.email}}"
                                        placeholder="david.edler359@gmail.com">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>DOB</label>
                                    <input type="text" class="form-control dob" value="{{datav}}" placeholder=""
                                        id='datetimepicker'>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 d-flex justify-content-end">
                                <div class="form-group ">
                                    <div class="custom-checkbox right">
                                        <a href="#go-premium-modal" data-toggle="modal">
                                            <input type="checkbox" class="custom-control-input" id="connect-che">
                                            <label class="custom-control-label" for="connect-che">Enable age in
                                                profile</label>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="row basicDetail">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Gender</label>
                                    <select class="form-control custom-select gender">
                                        <option>Male</option>
                                        <option>Female</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        {# <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>State</label>
                                        <select class="form-control custom-select ">
                                            <option>Florida</option>
                                            <option>Chicago</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>City</label>
                                        <select class="form-control custom-select ">
                                            <option>Miami</option>
                                            <option>Miami</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group location">
                                        <label>Location</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" placeholder="My Current Location">
                                            <div class="input-group-append">
                                                <button class="btn" type="button"><i class="flava-position"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>University/School</label>
                                        <input type="text" class="form-control" placeholder="University of Florida">
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Zodiac Sign</label>
                                        <select class="form-control custom-select ">
                                            <option>LEO</option>
                                            <option>Libra</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Relationship Status</label>
                                        <select class="form-control custom-select ">
                                            <option>Single</option>
                                            <option>Single</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Body Type</label>
                                        <select class="form-control custom-select ">
                                            <option>Slim</option>
                                            <option>Libra</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Height</label>
                                        <select class="form-control custom-select ">
                                            <option>5'8</option>
                                            <option>6</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Promocode</label>
                                        <input type="text" class="form-control" placeholder="Date 20">
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Show Distance In</label>
                                        <select class="form-control custom-select ">
                                            <option>KMS</option>
                                            <option>KMS</option>
                                        </select>
                                    </div>
                                </div>
                            </div> #}
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="aif-title mt-3">ideal person details</div>
                            </div>
                        </div>
                        <div class="row idealPerson">
                            <!-- <div class="col-sm-12">
                                    <div class="form-group">
                                        <label>Connections</label>
                                        <div class="connections">
                                            <div class="connections-row">
                                                <div class="custom-checkbox right">
                                                    <input type="checkbox" class="custom-control-input" id="connect-check-11">
                                                    <label class="custom-control-label" for="connect-check-11">Hookups</label>
                                                </div>
                                                <div class="custom-checkbox right">
                                                    <input type="checkbox" class="custom-control-input" id="connect-check-2">
                                                    <label class="custom-control-label" for="connect-check-2">New Friends</label>
                                                </div>
                                                <div class="custom-checkbox right">
                                                    <input type="checkbox" class="custom-control-input" id="connect-check-3">
                                                    <label class="custom-control-label" for="connect-check-3">Short term Dating</label>
                                                </div>
                                            
                                                <div class="custom-checkbox right">
                                                    <input type="checkbox" class="custom-control-input" id="connect-check-4">
                                                    <label class="custom-control-label" for="connect-check-4">Long term Dating</label>
                                                </div>
                                                <div class="custom-checkbox right">
                                                    <input type="checkbox" class="custom-control-input" id="connect-check-5">
                                                    <label class="custom-control-label" for="connect-check-5">Marriage</label>
                                                </div>
                                                <div class="custom-checkbox right">
                                                    <input type="checkbox" class="custom-control-input" id="connect-check-6">
                                                    <label class="custom-control-label" for="connect-check-6">Life Partner</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                        </div>



                        {# <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Age Range</label>
                                        <div class="age-range">
                                          <div id="html5" class="noUi-target range-line"></div>
                                            <div class="row">
                                            <div class="col-sm-5">
                                          <select name="" class="form-control custom-select" id="input-select">
                                          </select>
                                          </div>
                                          <div class="col-sm-2 text-center">to</div>
                                          <div class="col-sm-5">
                                          <select name="" class="form-control custom-select" id="input-select2">
                                          </select>
                                          </div>
                                          </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Relationship Status</label>
                                        <div class="age-range">
                                          <div class="slider-range range-line"></div>
                                          <!-- <span class="slider-range-value"></span> -->
                                          <select name="" class="form-control custom-select" id="input-select3">
                                              <option value="">1</option>
                                              <option value="">2</option>
                                              <option value="">3</option>
                                          </select>
                                        </div>
                                    </div>
                                </div>
                            </div> #}

                        {# <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Race</label>
                                        <select class="form-control custom-select ">
                                            <option>-</option>
                                            <option>-</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Sexual Orientation</label>
                                        <select class="form-control custom-select ">
                                            <option>Straight</option>
                                            <option>Straight</option>
                                        </select>
                                    </div>
                                </div>
                            </div> #}
                        {# <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Religion</label>
                                        <select class="form-control custom-select ">
                                            <option>Christianity</option>
                                            <option>Christianity</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Body Type</label>
                                        <select class="form-control custom-select ">
                                            <option>Slim</option>
                                            <option>Slim</option>
                                        </select>
                                    </div>
                                </div>
                            </div> #}
                        {# <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Occupation</label>
                                        <select class="form-control custom-select ">
                                            <option>ceo</option>
                                            <option>ceo</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Children</label>
                                        <select class="form-control custom-select ">
                                            <option>No</option>
                                            <option>Yes</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Education Level</label>
                                        <select class="form-control custom-select ">
                                            <option>High School Graduate</option>
                                            <option>High School Graduate</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label>Home</label>
                                        <select class="form-control custom-select ">
                                            <option>Own</option>
                                            <option>Own</option>
                                        </select>
                                    </div>
                                </div>
                            </div> #}

                        <div class="row">
                            <div class="col-md-12">
                                <button class="btn next-btn updateBtn" type="button">update & next</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Basic Information end -->
                <!-- Additional Information start -->
                <div class="tab-pane additional-info-form" id="additional-info" role="tabpanel">
                    <div class="addi-info">
                        <div class="row addiDetail">
                            {# <div class="col-lg-6">
                                    <div class="about-me">
                                        <label>About Me</label>
                                        <select class="form-control custom-select ">
                                            <option>My Self Summary</option>
                                            <option>A Perfect Day</option>
                                            <option>My Hoby</option>
                                        </select>
                                        <textarea class="form-control" placeholder="Type here"></textarea>
                                        <div class="save-btn"><a href="" >Save</a></div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="about-me">
                                        <label>moments</label>
                                        <select class="form-control custom-select ">
                                            <option>My Self Summary</option>
                                            <option>A Perfect Day</option>
                                            <option>My Hoby</option>
                                        </select>
                                        <textarea class="form-control" placeholder="Type here"></textarea>
                                        <div class="save-btn"><a href="" >Save</a></div>
                                    </div>
                                </div> #}
                        </div>
                        {# <div class="row">
                                <div class="col-lg-6">
                                    <div class="about-me">
                                        <label>traits</label>
                                        <select class="form-control custom-select ">
                                            <option>My Self Summary</option>
                                            <option>A Perfect Day</option>
                                            <option>My Hoby</option>
                                        </select>
                                        <textarea class="form-control" placeholder="Type here"></textarea>
                                        <div class="save-btn"><a href="" >Save</a></div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="about-me">
                                        <label>aspirations</label>
                                        <select class="form-control custom-select ">
                                            <option>My Self Summary</option>
                                            <option>A Perfect Day</option>
                                            <option>My Hoby</option>
                                        </select>
                                        <textarea class="form-control" placeholder="Type here"></textarea>
                                        <div class="save-btn"><a href="" >Save</a></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="about-me">
                                        <label>needs</label>
                                        <select class="form-control custom-select ">
                                            <option>My Self Summary</option>
                                            <option>A Perfect Day</option>
                                            <option>My Hoby</option>
                                        </select>
                                        <textarea class="form-control" placeholder="Type here"></textarea>
                                        <div class="save-btn"><a href="" >Save</a></div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="about-me">
                                        <label>secrets</label>
                                        <select class="form-control custom-select ">
                                            <option>My Self Summary</option>
                                            <option>A Perfect Day</option>
                                            <option>My Hoby</option>
                                        </select>
                                        <textarea class="form-control" placeholder="Type here"></textarea>
                                        <div class="save-btn"><a href="" >Save</a></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="about-me">
                                        <label>hobbies</label>
                                        <select class="form-control custom-select ">
                                            <option>My Self Summary</option>
                                            <option>A Perfect Day</option>
                                            <option>My Hoby</option>
                                        </select>
                                        <textarea class="form-control" placeholder="Type here"></textarea>
                                        <div class="save-btn"><a href="" >Save</a></div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="about-me">
                                        <label>whatâ€™s you say</label>
                                        <select class="form-control custom-select ">
                                            <option>My Self Summary</option>
                                            <option>A Perfect Day</option>
                                            <option>My Hoby</option>
                                        </select>
                                        <textarea class="form-control" placeholder="Type here"></textarea>
                                        <div class="save-btn"><a href="" >Save</a></div>
                                    </div>
                                </div>
                            </div> #}

                        <div class="row">
                            <div class="col-lg-6">
                                <div class="about-me">
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="My Current Location">
                                        <div class="input-group-append">
                                            <button class="btn" type="button"><i class="flava-search"></i></button>
                                        </div>
                                    </div>
                                    <div class="search-resulat-scroll">
                                        <div class="search-resulat">
                                            <div class="sr-col">
                                                <div href="#" class="heart-circle"><span class="icon"><i
                                                            class="flava-music"></i></span></div>
                                                <div class="sr-col-title">Shape of you <span>ED Sheeran</span></div>
                                            </div>
                                            <div class="sr-col">
                                                <div href="#" class="heart-circle"><span class="icon"><i
                                                            class="flava-music"></i></span></div>
                                                <div class="sr-col-title">Shape of you <span>ED Sheeran</span></div>
                                            </div>
                                            <div class="sr-col">
                                                <div href="#" class="heart-circle"><span class="icon"><i
                                                            class="flava-music"></i></span></div>
                                                <div class="sr-col-title">Shape of you <span>ED Sheeran</span></div>
                                            </div>
                                            <div class="sr-col">
                                                <div href="#" class="heart-circle"><span class="icon"><i
                                                            class="flava-music"></i></span></div>
                                                <div class="sr-col-title">Shape of you <span>ED Sheeran</span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="about-me my-trust">
                                    <div class="tc-col">
                                        <div class="tc-col-tite">My Trust Score</div>
                                        <div class="percentage">95%</div>
                                    </div>
                                    <div class="tc-col">
                                        <div class="tc-col-tite">Connect With</div>
                                        <ul class="social">
                                            <li><a href="#"><img src="/web/images/icon-facebook.png" alt=""></a></li>
                                            <li><a href="#"><img src="/web/images/icon-instagram.png" alt=""></a></li>
                                            <li><a href="#"><img src="/web/images/icon-snapchat.png" alt=""></a></li>
                                            <li><a href="#"><img src="/web/images/icon-spotify.png" alt=""></a></li>
                                        </ul>
                                    </div>
                                    <div class="tc-col">
                                        <div class="tc-col-tite">Privacy Mode</div>
                                        <div class="custom-control custom-switch">
                                            <input type="checkbox" class="custom-control-input" id="customSwitch1">
                                            <label class="custom-control-label" for="customSwitch1"></label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row ">
                            <div class="col-lg-6">
                                        <div class="match-questions-top">
                                            <div class="title">Match Questions</div>
                                            <div class="see-all-btn"><a href="/matchQues">See all</a></div>
                                        </div>
                                <div class="addQues">
                            <!-- <div class="col-lg-6">
                                <div class="match-questions-top">
                                    <div class="title">Match Questions</div>
                                    <div class="see-all-btn"><a href="/matchQues">See all</a></div>
                                </div>
                                <div class="about-me match-questions">
                                    <div class="mq-text">Could you just survive on Maggi alone for one week?</div>
                                    <div class="yesNo-answer mq-text">
                                        <div class="ya-col">

                                            <div class="custom-radio">
                                                <input type="radio" class="custom-control-input" name="customRadio"
                                                    id="customRadio1">
                                                <label class="custom-control-label" for="customRadio1">Yes</label>
                                            </div>
                                            <div class="custom-radio">
                                                <input type="radio" class="custom-control-input" name="customRadio"
                                                    id="customRadio2" checked>
                                                <label class="custom-control-label" for="customRadio2">No</label>
                                            </div>
                                        </div>
                                        <div class="ya-col ideal mq-text">
                                            <div class="ideal-title">ideal</div>
                                            <div class="custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="yes">
                                                <label class="custom-control-label" for="yes">Yes</label>
                                            </div>
                                            <div class="custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="no">
                                                <label class="custom-control-label" for="no">No</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mq-btn">
                                        <a href="#" class="answer">answwer</a>
                                        <a href="#" class="skip"><i class="flava-rewind"></i> Skip</a>
                                    </div>-->

                                </div>
                            </div> 
                        </div> 

                        <div class="row">
                            <div class="col-md-12">
                                <button class="btn next-btn" id="allFields" onclick="saveDetails(this);">Update</button>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- Additional Information end -->
                <div class="tab-pane " id="notification-setting" role="tabpanel">
                    <div class="notification-tab addNotification">
                        <!-- <div class="nt-title">Notifications</div>
                        <ul class="noti-check-ul">
                            <li>
                                <div class="custom-checkbox right">
                                    <input type="checkbox" class="custom-control-input" id="noti-check-1">
                                    <label class="custom-control-label" for="noti-check-1">New Matches</label>
                                </div>
                            </li>
                            <li>
                                <div class="custom-checkbox right">
                                    <input type="checkbox" class="custom-control-input" id="noti-check-2">
                                    <label class="custom-control-label" for="noti-check-2">Super Like Flava</label>
                                </div>
                            </li>
                            <li>
                                <div class="custom-checkbox right">
                                    <input type="checkbox" class="custom-control-input" id="noti-check-3">
                                    <label class="custom-control-label" for="noti-check-3">New Offers</label>
                                </div>
                            </li>
                            <li>
                                <div class="custom-checkbox right">
                                    <input type="checkbox" class="custom-control-input" id="noti-check-4">
                                    <label class="custom-control-label" for="noti-check-4">New Messages</label>
                                </div>
                            </li>
                            <li>
                                <div class="custom-checkbox right">
                                    <input type="checkbox" class="custom-control-input" id="noti-check-5">
                                    <label class="custom-control-label" for="noti-check-5">News Updates</label>
                                </div>
                            </li>
                            <li>
                                <div class="custom-checkbox right">
                                    <input type="checkbox" class="custom-control-input" id="noti-check-6">
                                    <label class="custom-control-label" for="noti-check-6">Like Flava</label>
                                </div>
                            </li>
                            <li>
                                <div class="custom-checkbox right">
                                    <input type="checkbox" class="custom-control-input" id="noti-check-7">
                                    <label class="custom-control-label" for="noti-check-7">Chat Pings</label>
                                </div>
                            </li>
                            <li>Good Morning.
                                <div class="custom-checkbox right">
                                    <input type="checkbox" class="custom-control-input" id="noti-check-8">
                                    <label class="custom-control-label" for="noti-check-8">Date Requests</label>
                                </div>
                            </li>
                            <li>
                                <div class="custom-checkbox right">
                                    <input type="checkbox" class="custom-control-input" id="noti-check-9">
                                    <label class="custom-control-label" for="noti-check-9">Emoji Received</label>
                                </div>
                            </li>
                        </ul> -->
                    </div>
                </div>
            </div>
        </div>
        <!-- profile tab end -->
    </div>
</div>
<!-- mid part end -->

<!-- go premium modal start -->
<div class="go-premium-modal modal fade " id="go-premium-modal" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i
                            class="flava-close"></i></span></button>
            </div>
            <div class="modal-body">
                <div class="go-premium-tab">
                    <ul class="nav nav-pills" id="pills-tab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="premium-tab" data-toggle="pill" href="#premium" role="tab"
                                aria-controls="premium" aria-selected="true">premium</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="get-list-tab" data-toggle="pill" href="#get-list" role="tab"
                                aria-controls="get-list" aria-selected="false">get a list</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="get-boost-tab" data-toggle="pill" href="#get-boost" role="tab"
                                aria-controls="get-boost" aria-selected="false">get boost</a>
                        </li>
                    </ul>
                    <div class="tab-content" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="premium" role="tabpanel"
                            aria-labelledby="premium-tab">
                            <div class="go-premium-row">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="go-premium-box">
                                            <div class="purpal-bdr"></div>
                                            <div class="gpb-content">
                                                <div class="month">6 <span>Month</span></div>
                                                <div class="price">$300.00</div>
                                                <a href="#" class="subscribe">subscribe</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="go-premium-box">
                                            <div class="purpal-bdr"></div>
                                            <div class="gpb-content">
                                                <div class="month">3 <span>Month</span></div>
                                                <div class="price">$190.00</div>
                                                <a href="#" class="subscribe">subscribe</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="go-premium-box">
                                            <div class="purpal-bdr"></div>
                                            <div class="gpb-content">
                                                <div class="month">1 <span>Month</span></div>
                                                <div class="price">$80.00</div>
                                                <a href="#" class="subscribe">subscribe</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <ul class="benefits-ul">
                                    <li>Benefits</li>
                                    <li>View matched daters</li>
                                    <li>Chat with daters</li>
                                    <li>Can do video chat</li>
                                    <li>Privacy mode is enable</li>
                                    <li>Turn off ads</li>
                                    <li>1 boost free every month</li>
                                    <li>Unlimited likes</li>
                                </ul>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="get-list" role="tabpanel" aria-labelledby="get-list-tab">
                            <div class="go-premium-row">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="go-premium-box">
                                            <div class="purpal-bdr"></div>
                                            <div class="gpb-content">
                                                <div class="month">6 <span>Month</span></div>
                                                <div class="price">$250.00</div>
                                                <a href="#" class="subscribe">subscribe</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="go-premium-box">
                                            <div class="purpal-bdr"></div>
                                            <div class="gpb-content">
                                                <div class="month">3 <span>Month</span></div>
                                                <div class="price">$125.00</div>
                                                <a href="#" class="subscribe">subscribe</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="go-premium-box">
                                            <div class="purpal-bdr"></div>
                                            <div class="gpb-content">
                                                <div class="month">1 <span>Month</span></div>
                                                <div class="price">$45.00</div>
                                                <a href="#" class="subscribe">subscribe</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <ul class="benefits-ul">
                                    <li>Benefits</li>
                                    <li>Increase likes</li>
                                    <li>See more people</li>
                                    <li>See all questions and answers</li>
                                    <li>All a list basic features</li>
                                </ul>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="get-boost" role="tabpanel" aria-labelledby="get-boost-tab">
                            <div class="go-premium-row">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="go-premium-box">
                                            <div class="purpal-bdr"></div>
                                            <div class="gpb-content">
                                                <div class="month">6 <span>Month</span></div>
                                                <div class="price">$325.00</div>
                                                <a href="#" class="subscribe">subscribe</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="go-premium-box">
                                            <div class="purpal-bdr"></div>
                                            <div class="gpb-content">
                                                <div class="month">3 <span>Month</span></div>
                                                <div class="price">$165.00</div>
                                                <a href="#" class="subscribe">subscribe</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="go-premium-box">
                                            <div class="purpal-bdr"></div>
                                            <div class="gpb-content">
                                                <div class="month">1 <span>Month</span></div>
                                                <div class="price">$55.00</div>
                                                <a href="#" class="subscribe">subscribe</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <ul class="benefits-ul">
                                    <li>Benefits</li>
                                    <li>Increase likes upto 5 times</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- go premium modal end -->
{% endblock %}

{% block Jscript %}
<script type="text/javascript" src="/web/js/jquery.min.js"></script>
<script type="text/javascript" src="/web/js/popper.min.js"></script>
<script type="text/javascript" src="/web/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/web/js/moment.js"></script>
<script type="text/javascript" src="/web/js/slick.min.js"></script>
<!-- datetime picker -->
<script type="text/javascript" src="/web/js/bootstrap-datetimepicker.min.js"></script>
<!-- Range slider -->
<script type="text/javascript" src="/web/js/nouislider.min.js"></script>
<!-- slim scroll -->
<script type="text/javascript" src="/web/js/jquery.slimscroll.js"></script>

<!-- search resula -->
<script type="text/javascript">

    $('.search-resulat-scroll').slimScroll({
        height: '150px',
        railColor: '#fff',
        color: '#ba9c4c',
        alwaysVisible: true,
        railOpacity: 0.9,
    });

    // [ Useful Params ]
    let cntryId = { value: "{{countryId}}" };
    let stId = { value: "{{stateId}}" };

    $(function () {
        $('#datetimepicker').datetimepicker({
            format: 'YYYY-MM-DD',
            // debug: true
        });

        getBasicDetail();
        getData(); //question ans data
        getNotifyData(); //notification data
        let countryId = { value: "{{countryId}}" };
        let stateId = { value: "{{stateId}}" };
        getState(countryId);
        getCity(stateId);
    });

    let conn = '{{user_data.additionalInfo.connections}}';
    conn = conn.split(",");

    function getBasicDetail() {
        $.ajax({
            url: "/api/profile/getProfileFields",
            type: 'POST',
            headers: { 'token': token },
            success: function (result) {
                if (result.status == 'success') {

                    console.log("result.data: ", result.data);

                    createBasicHtml(result.data);

                    createIdealHtml(result.data);

                    createAddiHtml(result.data);

                } else {
                    console.log("result fail in Get Question: ", result);
                }
            }
        });
    }

    // Notification code start
    function getNotifyData() {
        $.ajax({
            url: "/api/notification/getNotificationsSettings",
            type: 'POST',
            headers: { 'token': token },
            data: {
                'userId': userId
            },
            success: function (result) {
                if (result.status == 'success') {
                    console.log("result notify:>>> ", result);
                    htmlNotifycode(result);
                } else {
                    console.log("result: fail :: ", result);
                    //  window.location = '/home';
                }
            }
        });
    }

    function htmlNotifycode(result) {

        let html = '<div class="nt-title">Notifications</div>\
                        <div class="notify">\
                        <ul class="noti-check-ul">';
                         for (let i = 0; i < result.data.notificationList.length; i++) { 
                             
                                 console.log("chcek");
                            if(result.data.notificationList[i].isActive == true){
                                html+='<li>\
                                    <div class="custom-checkbox right">\
                                        <input type="hidden" id="getSlug" value="'+ result.data.notificationList[i].slug +'">\
                                        <input type="checkbox" class="custom-control-input notify" value="'+ result.data.notificationList[i].fieldName +'" name="1-'+ result.data.notificationList[i].slug +'" id="'+ result.data.notificationList[i].slug +'" checked>\
                                        <label class="custom-control-label slug" id="'+ result.data.notificationList[i].slug +'" for="'+ result.data.notificationList[i].slug +'">'+ result.data.notificationList[i].fieldName +'</label>\
                                    </div>\
                                </li>';
                            }else{
                                html+='<li>\
                                    <div class="custom-checkbox right">\
                                        <input type="hidden" id="getSlug" value="'+ result.data.notificationList[i].slug +'">\
                                        <input type="checkbox" class="custom-control-input notify" value="'+ result.data.notificationList[i].fieldName +'" name="1-'+ result.data.notificationList[i].slug +'" id="'+ result.data.notificationList[i].slug +'">\
                                        <label class="custom-control-label slug" id="'+ result.data.notificationList[i].slug +'" for="'+ result.data.notificationList[i].slug +'">'+ result.data.notificationList[i].fieldName +'</label>\
                                    </div>\
                                </li>';
                            }
                        }
                        html+='</ul>\
                        </div>';
                            
        $('.addNotification').html(html);
    }

    $('body').on('click', ' .slug', function(e){
           let getSlug = $(this).attr('id');
           let isActive = true;
           if($("#"+ getSlug+'').prop('checked') == true){
                isActive = false;
            }
                $.ajax({
                    url: "/api/notification/setNotifications",
                    type: 'POST',
                    headers: { 'token': token },
                    data:{
                    'userId': userId,
                    'slug':getSlug,
                    'isActive':isActive ? 1:0
                    },
                    success: function(result){
                        if (result.status == 'success'){
                            console.log("result: <<< >>> ",result);
                        } else {
                            console.log("result: fail >>> ",result);
                        }
                    }
                });
    });
    // Notification code end

    // question code start 
    function getData() {
        $.ajax({
            url: "/api/userAnswer/getMatchQues",
            type: 'POST',
            headers: { 'token': token },
            data: {
                'userId': userId
            },
            success: function (result) {
                if (result.status == 'success') {
                    console.log("result:>>> ", result);
                    htmlQuecode(result);
                } else {
                    console.log("result: fail :: ", result);
                    //  window.location = '/home';
                }
            }
        });
    }

    function getQue(userid, callback) {
            return $.ajax({
                url: "/api/userAnswer/getMatchQues",
                type: 'POST',
                cache: false,
                headers: { 'token': token },
                data: {
                    'userId': userid
                },       
                success: function (result) {
                    if (result.status == 'success') {
                        console.log("result:>>> ", result);
                        htmlQuecode(result);
                    } else {
                        console.log("result: fail :: ", result);
                        //  window.location = '/home';
                    }
                }
        })
        .done(callback)
        .fail(function(jqXHR, textStatus, errorThrown) {
            // Handle error
        });
    }

    function htmlQuecode(result) {

        let html = '<div class="about-me match-questions queRemove">\
                                        <div class="mq-text question Unanswer1">'+ result.data.queAnsData.que + '?</div>\
                                        <div class="yesNo-answer mq-text">\
                                            <div  class="ya-col">';
                                            for (let i = 0; i < result.data.queAnsData.ans.length; i++) {
                                                html += '<div class="custom-radio">\
                                                                                    <input type="hidden" id="getid" value="'+ result.data.queAnsData._id + '">\
                                                                                    <input type="radio" class="custom-control-input checkAns" name="1-'+ result.data.queAnsData._id + '" value="' + result.data.queAnsData.ans[i] + '" id="' + result.data.queAnsData.ans[i] + '">\
                                                                                    <label class="custom-control-label" for="'+ result.data.queAnsData.ans[i] + '">' + result.data.queAnsData.ans[i] + '</label>\
                                                                                </div>';
                                            }

                                    html += '</div>\
                                            <div class="ya-col ideal mq-text">\
                                                <div class="ideal-title">ideal</div>';
        for (let i = 0; i < result.data.queAnsData.ans.length; i++) {
            html += '<div class="custom-checkbox">\
                                                        <input type="hidden" id="getid" value="'+ result.data.queAnsData._id + '">\
                                                    <input type="checkbox" class="custom-control-input checkAnswer" name="2-'+ result.data.queAnsData._id + '" id="' + i + '' + result.data.queAnsData.ans[i] + '" value="' + result.data.queAnsData.ans[i] + '">\
                                                    <label class="custom-control-label" for="'+ i + '' + result.data.queAnsData.ans[i] + '">' + result.data.queAnsData.ans[i] + '</label>\
                                                </div>';
        }
        html += '</div>\
                                        </div>\
                                        <div class="mq-btn">\
                                            <a href="#" class="answer ansOne">answer</a>\
                                            <a href="#" id="'+ result.data.queAnsData._id + '" class="skip skipAns"><i class="flava-rewind"></i> Skip</a>\
                                        </div>\
                            </div>';
                            
         $('.addQues').html(html);
    }

    $('body').on('click', ' .ansOne', function (e) {
        e.preventDefault();
        // $('.too').hide();
        // $('.from').show();
        let queId = $("#getid").val();
        // let ans = $(this).attr('id');
        // console.log("ans",ans);

        var checkvalue;
        $.each($("input[name=" + '1-' + queId + "]:checked"), function () {
            checkvalue = $(this).val();
        });

        var checkvalue2 = [];
        $.each($("input[name=" + '2-' + queId + "]:checked"), function () {
            checkvalue2.push($(this).val());
        });
        console.log("cec", checkvalue, checkvalue2);

        $.ajax({
            url: "/api/userAnswer/addAnswer",
            type: 'POST',
            headers: { 'token': token },
            data: {
                'userId': userId,
                'ans': checkvalue,
                'oppAns': checkvalue2,
                'queId': queId,
                'isSkipped': false,
                'isPrivate': false
            },
            success: function (result) {
                if (result.status == 'success') {
                    getQue(userId, function(data) {
                        console.log(data); // Do what you want with the data returned
                        if (data.message == 'More question will comming soon') {
                            $('.queRemove').remove();
                        }
                    });
                } else {
                    console.log("result: fail >>> ", result.message);
                    console.log("result: fail >>> ", result);
                    if (result.message == 'More question will comming soon') {
                        $('.queRemove').remove();
                    }
                    //  window.location = '/home';
                }
            }
        });
    });

    $('body').on('click', ' .skipAns', function (e) {
        e.preventDefault();
        var checkvalue = [];
        // $("#country").find('option:selected').attr("name")

        let queId = $("#getid").val();
        // $.each($("input[name=" + '1-' + queId + "]:not(:checked)"), function () {
        $.each($("input[name=" + '1-' + queId + "]"), function () {
            checkvalue.push($(this).val());
        });
        console.log("cec++++", checkvalue, userId);
        $('.quesRemove').remove();
        // let queId = $(this).attr('id');
        // console.log("queid",queId);

        $.ajax({
            url: "/api/userAnswer/addAnswer",
            type: 'POST',
            headers: { 'token': token },
            data: {
                'isSkipped': true,
                'userId': userId,
                'ans': null,
                'oppAns': checkvalue,
                'queId': queId,
                'isPrivate': false
            },
            success: function (result) {
                if (result.status == 'success') {
                    console.log("result: success >>> ", result);
                    getQue(userId, function(data) {
                        console.log(data); // Do what you want with the data returned
                        if (data.message == 'More question will comming soon') {
                            $('.queRemove').remove();
                        }
                    });
                    // window.location = '/profileSetting';
                } else {
                    console.log("result: fail >>> jj", result);
                    console.log("result: fail >>>jj ", result.message);
                    console.log("result: fail >>>jj ", result);
                    if (result.message == 'More question will comming soon') {
                        $('.queRemove').remove();
                }
                
                    //  window.location = '/home';
                }
            }
        });


    });
    // question code end   

    function createBasicHtml(data) {

        let html = '';

        if (data.gender.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Gender</label>
                                <select class="form-control custom-select gender">`;
            if ("{{user_data.gender}}") {
                html += `<option selected>{{user_data.gender}}</option>`;
            } else {
                html += `<option>Select Gender</option>`;
            }
            for (let i = 0; i < data.gender.length; i++) {
                if ("{{user_data.gender}}" != data.gender[i]) {
                    html += `<option>` + data.gender[i] + `</option>`
                }
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        /*if(data.country.length > 0){
            html  += `<div class="col-lg-6">
                        <div class="form-group">
                            <label>Country</label>
                            <select class="form-control custom-select" id="countryId">`;
                                if("{{user_data.country}}"){
                                    html += `<option selected value="{{countryId}}">{{user_data.country}}</option>`;
                                }
                                for(let i = 0; i < data.country.length; i++ ){
                                    if("{{user_data.country}}" != data.country[i].name){
                                        html += '<option value="'+data.country[i]._id+'" name="'+data.country[i].name+'">'+data.country[i].name+'</option>';
                                    }
                                }
                                html += `</select>
                        </div>
                    </div>`;

                html  += `<div class="col-lg-6">
                    <div class="form-group">
                        <label>State</label>
                        <select class="form-control custom-select" id="stateId" onclick="getState(this)">`;
                            if("{{user_data.state}}"){
                                html += `<option selected value="{{stateId}}">{{user_data.state}}</option>`;
                            }
                            html += `</select>
                    </div>
                </div>`;

                html  += `<div class="col-lg-6">
                    <div class="form-group">
                        <label>City</label>
                        <select class="form-control custom-select" id="cityId" onclick="getCity(this)">`;
                            if("{{user_data.city}}"){
                                html += `<option selected>{{user_data.city}}</option>`;
                            }
                            html += `</select>
                    </div>
                </div>`;
        } */

        if (data.country.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Country</label>
                                <select class="form-control custom-select country" onchange="getState(this)">`;
            if ("{{user_data.country}}") {
                html += `<option selected>{{user_data.country}}</option>`;
            } else {
                html += `<option>Select Country</option>`;
            }
            for (let i = 0; i < data.country.length; i++) {
                if ("{{user_data.country}}" != data.country[i].name) {
                    html += '<option value="' + data.country[i]._id + '" name="' + data.country[i].name + '">' + data.country[i].name + '</option>';
                }
            }
            html += `</select>
                            </div>
                        </div>`;

            html += `<div class="col-lg-6">
                        <div class="form-group">
                            <label>State</label>
                            <select class="form-control custom-select state" id="stateId" onchange="getCity(this)">`;
            if ("{{user_data.state}}") {
                html += `<option selected>{{user_data.state}}</option>`;
            }
            html += `</select>
                        </div>
                    </div>`;

            html += `<div class="col-lg-6">
                        <div class="form-group">
                            <label>City</label>
                            <select class="form-control custom-select city" id="cityId">`;
            if ("{{user_data.city}}") {
                html += `<option selected>{{user_data.city}}</option>`;
            }
            html += `</select>
                        </div>
                    </div>
                    <div class="col-lg-6">
                            <div class="form-group location">
                                <label>Location</label>
                                <div class="input-group">
                                    <input type="text" id="latLang" class="form-control location" placeholder="My Current Location">
                                    <div class="input-group-append">
                                        <button class="btn" type="button" onclick="getLatLang()"><i class="flava-position"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>`;
        }

        if (data.institute.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>University/School</label>
                                <select class="form-control custom-select institute">`;
            if ("{{user_data.institute}}") {
                html += `<option selected>{{user_data.institute}}</option>`
            }
            for (let i = 0; i < data.institute.length; i++) {
                if ("{{user_data.institute}}" != data.institute[i]) {
                    html += `<option>` + data.institute[i] + `</option>`
                }
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        if (data.zodiacSign.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Zodiac Sign</label>
                                <select class="form-control custom-select zodiacSign">`;
            if ("{{user_data.zodiacSign}}") {
                html += `<option selected>{{user_data.zodiacSign}}</option>`
            } else {
                html += `<option>Select Zodiac Sign</option>`;
            }
            for (let i = 0; i < data.zodiacSign.length; i++) {
                if ("{{user_data.zodiacSign}}" != data.zodiacSign[i]) {
                    html += `<option>` + data.zodiacSign[i] + `</option>`
                }
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        if (data.relationshipStatus.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Relationship Status</label>
                                <select class="form-control custom-select relationshipStatus">`;
            if ("{{user_data.relationshipStatus}}") {
                html += `<option selected>{{user_data.relationshipStatus}}</option>`
            } else {
                html += `<option>Select Relationship Status</option>`;
            }
            for (let i = 0; i < data.relationshipStatus.length; i++) {
                if ("{{user_data.relationshipStatus}}" != data.relationshipStatus[i]) {
                    html += `<option>` + data.relationshipStatus[i] + `</option>`
                }
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        if (data.bodyType.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Body Type</label>
                                <select class="form-control custom-select bodyType">`;
            if ("{{user_data.additionalInfo.bodyType}}") {
                html += `<option selected>{{user_data.additionalInfo.bodyType}}</option>`
            } else {
                html += `<option>Select Body Type</option>`;
            }
            for (let i = 0; i < data.bodyType.length; i++) {
                if ("{{user_data.additionalInfo.bodyType}}" != data.bodyType[i]) {
                    html += `<option>` + data.bodyType[i] + `</option>`
                }
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        if (data.height.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Height</label>
                                <select class="form-control custom-select height">`;
            if ("{{user_data.additionalInfo.height}}") {
                html += `<option selected>{{user_data.additionalInfo.height}}</option>`
            } else {
                html += `<option>Select Height</option>`;
            }
            for (let i = 0; i < data.height.length; i++) {
                if ("{{user_data.additionalInfo.height}}" != data.height[i]) {
                    html += `<option>` + data.height[i] + `</option>`
                }
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        if (data.promoCode.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Promo Code</label>
                                <input type="text" class="form-control promoCode" placeholder="Promocode">
                            </div>
                        </div>`;
        } else {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Promo Code</label>
                                <input type="text" class="form-control promoCode" placeholder="Promocode">
                            </div>
                        </div>`;
        }

        if (data.showDistance.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Show Distance In</label>
                                <select class="form-control custom-select showDistance">`;
            if ("{{user_data.additionalInfo.showDistance}}") {
                html += `<option selected>{{user_data.additionalInfo.showDistance}}</option>`
            } else {
                html += `<option>Show Distance In</option>`;
            }
            for (let i = 0; i < data.showDistance.length; i++) {
                if ("{{user_data.additionalInfo.showDistance}}" != data.showDistance[i]) {
                    html += `<option>` + data.showDistance[i] + `</option>`
                }
            }
            html += `</select>
                            </div>
                        </div>`;
        } else {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Show Distance In</label>
                                <select class="form-control custom-select showDistance">
                                    <option>Show Distance In</option
                                </select>
                            </div>
                        </div>`;
        }

        $('.basicDetail').html(html);
    }

    function createIdealHtml(data) {

        let html = '';

        if (data.connections.length > 0) {

            html += `<div class="col-sm-12">
                    <div class="form-group">
                        <label>Connections</label>
                        <div class="connections">`;
            for (let i = 0; i < data.connections.length; i++) {
                let tx = data.connections[i].replace(/ /g, "_");
                html += `<div class="custom-checkbox right">
                                        <input type="checkbox" name="selector[]" data-len="`+ i + `" class="custom-control-input connections_` + i + ` ` + tx + `" value="` + data.connections[i] + `" id="connect-check-` + i + `">
                                        <label class="custom-control-label" for="connect-check-`+ i + `">` + data.connections[i] + `</label>
                                    </div>`;
            }
            html += `</div>
                    </div>
                </div>`;
        }
        
        let sh = '{{user_data.show}}';

        if (data.show.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Show</label>
                                <select class="form-control custom-select show">`;
            if ("{{user_data.show}}") {
                html += `<option selected>{{user_data.show}}</option>`;
            }
            for (let i = 0; i < data.show.length; i++) {
                if ("{{user_data.show}}" != data.show[i]) {
                    html += `<option>` + data.show[i] + `</option>`
                }
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        /*if (data.idealProfileRelStatus.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Relationship Status</label>
                                <select class="form-control custom-select idealprofilerelstatus">`;
            if ("{{user_data.show}}") {
                html += `<option selected>{{user_data.show}}</option>`;
            }
            for (let i = 0; i < data.idealprofilerelstatus.length; i++) {
                html += `<option>` + data.idealprofilerelstatus[i] + `</option>`;
            }
            html += `</select>
                            </div>
                        </div>`;
        } */

        /*if (data.ageRange.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Age Range</label>
                                <div class="age-range">
                                    <div id="html5" class="noUi-target range-line"></div>
                                    <div class="row">
                                    <div class="col-sm-5">
                                    <select name="" class="form-control custom-select" id="input-select">
                                        <option value="">1</option>
                                        <option value="">2</option>
                                        <option value="">3</option>
                                    </select>
                                    </div>
                                    <div class="col-sm-2 text-center">to</div>
                                    <div class="col-sm-5">
                                    <select name="" class="form-control custom-select" id="input-select2">
                                        <option value="">1</option>
                                        <option value="">2</option>
                                        <option value="">3</option>
                                    </select>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Age Range</label>
                                <div class="age-range">
                                    <div id="html5" class="noUi-target range-line"></div>
                                    <div class="row">
                                    <div class="col-sm-5">
                                    <select name="" class="form-control custom-select" id="input-select3">
                                        <option value="">1</option>
                                        <option value="">2</option>
                                        <option value="">3</option>
                                    </select>
                                    </div>
                                    <div class="col-sm-2 text-center">to</div>
                                    <div class="col-sm-5">
                                    <select name="" class="form-control custom-select" id="input-select4">
                                        <option value="">1</option>
                                        <option value="">2</option>
                                        <option value="">3</option>
                                    </select>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>`;
        } */

        if (data.race.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Race</label>
                                <select class="form-control custom-select race">`;
            for (let i = 0; i < data.race.length; i++) {
                html += `<option>` + data.race[i] + `</option>`;
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        /*if (data.sexualorientation.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Sexual Orientation</label>
                                <select class="form-control custom-select sexualorientation">`;
            for (let i = 0; i < data.sexualorientation.length; i++) {
                html += `<option>` + data.sexualorientation[i] + `</option>`;
            }
            html += `</select>
                            </div>
                        </div>`;
        } */

        if (data.religion.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Religion</label>
                                <select class="form-control custom-select religions">`;
            for (let i = 0; i < data.religion.length; i++) {
                html += `<option>` + data.religion[i] + `</option>`;
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        /*if (data.bodytype.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Body Type</label>
                                <select class="form-control custom-select bodytype">`;
            for (let i = 0; i < data.bodytype.length; i++) {
                html += `<option>` + data.bodytype[i] + `</option>`;
            }
            html += `</select>
                            </div>
                        </div>`;
        } */

        if (data.occupation.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Occupation</label>
                                <select class="form-control custom-select occupation">`;
            for (let i = 0; i < data.occupation.length; i++) {
                html += `<option>` + data.occupation[i] + `</option>`;
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        /*if (data.children.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Children</label>
                                <select class="form-control custom-select children">`;
            for (let i = 0; i < data.children.length; i++) {
                html += `<option>` + data.children[i] + `</option>`;
            }
            html += `</select>
                            </div>
                        </div>`;
        } */

        /*if (data.educationlevel.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Education Level</label>
                                <select class="form-control custom-select educationlevel">`;
            for (let i = 0; i < data.educationlevel.length; i++) {
                html += `<option>` + data.educationlevel[i] + `</option>`;
            }
            html += `</select>
                            </div>
                        </div>`;
        } */

        if (data.home.length > 0) {
            html += `<div class="col-lg-6">
                            <div class="form-group">
                                <label>Home</label>
                                <select class="form-control custom-select home">`;
            for (let i = 0; i < data.home.length; i++) {
                html += `<option>` + data.home[i] + `</option>`;
            }
            html += `</select>
                            </div>
                        </div>`;
        }

        $('.idealPerson').html(html);

        // [ Connection ]
       
        for (let j = 0; j < conn.length; j++) {
            console.log("con",conn[i])
            let tx = conn[j].replace(/ /g, "_");
            $('.' + tx).attr('checked', true);
        }

        // 

    }

    function createAddiHtml(data){

        let html = '';
        let userConn = "";

        if(data.income.length > 0){
            html  += `<div class="col-lg-6">
                        <div class="form-group">
                            <label>Select Income (Optional)</label>
                            <select class="form-control custom-select" id="income">`;
                                if("{{user_data.additionalInfo.income}}"){
                                    html += `<option selected>{{user_data.additionalInfo.income}}</option>`;
                                } else {
                                    html += `<option value="">Select Income</option>`;
                                }
                                for(let i = 0; i < data.income.length; i++ ){
                                    if("{{user_data.additionalInfo.income}}" != data.income[i]){
                                        html += `<option>`+data.income[i]+`</option>`
                                    }
                                }
                                html += `</select>
                        </div>
                    </div>`;
        }

        if(data.occupation.length > 0){
            html  += `<div class="col-lg-6">
                        <div class="form-group">
                            <label>Select Occupation</label>
                            <select class="form-control custom-select" id="occupation">`;
                                if("{{user_data.additionalInfo.occupation}}"){
                                    html += `<option selected>{{user_data.additionalInfo.occupation}}</option>`;
                                } else {
                                    html += `<option value="">Select occupation</option>`;
                                }
                                for(let i = 0; i < data.occupation.length; i++ ){
                                    if("{{user_data.additionalInfo.occupation}}" != data.occupation[i]){
                                        html += `<option>`+data.occupation[i]+`</option>`
                                    }
                                }
                                html += `</select>
                        </div>
                    </div>`;
        }

        if(data.educationLevel.length > 0){
            html  += `<div class="col-lg-6">
                        <div class="form-group">
                            <label>Select Education Level</label>
                            <select class="form-control custom-select" id="educationLevel">`;
                                if("{{user_data.additionalInfo.educationLevel}}"){
                                    html += `<option selected>{{user_data.additionalInfo.educationLevel}}</option>`;
                                } else {
                                    html += `<option value="">Select Education Level</option>`;
                                }
                                for(let i = 0; i < data.educationLevel.length; i++ ){
                                    if("{{user_data.additionalInfo.educationLevel}}" != data.educationLevel[i]){
                                        html += `<option>`+data.educationLevel[i]+`</option>`
                                    }
                                }
                                html += `</select>
                        </div>
                    </div>`;
        }

        if(data.ethnicity.length > 0){
            html  += `<div class="col-lg-6">
                        <div class="form-group">
                            <label>Select Ethnicity</label>
                            <select class="form-control custom-select" id="ethnicity">`;
                                if("{{user_data.additionalInfo.ethnicity}}"){
                                    html += `<option selected>{{user_data.additionalInfo.ethnicity}}</option>`;
                                } else {
                                    html += `<option value="">Select Ethnicity</option>`;
                                }
                                for(let i = 0; i < data.ethnicity.length; i++ ){
                                    if("{{user_data.additionalInfo.ethnicity}}" != data.ethnicity[i]){
                                        html += `<option>`+data.ethnicity[i]+`</option>`
                                    }
                                }
                                html += `</select>
                        </div>
                    </div>`;
        }

        if(data.haveChildren.length > 0){

            let checkHavChild = '';
            let haveChild = '';

            if("{{user_data.additionalInfo.haveChildren}}"){

                checkHavChild = "{{user_data.additionalInfo.haveChildren}}";
                if(checkHavChild == 'true'){
                    haveChild = 'Yes'    
                } else {
                    haveChild = 'No'
                }
            }

            html  += `<div class="col-lg-6">
                        <div class="form-group">
                            <label>Do You Have Children</label>
                            <select class="form-control custom-select" id="hvChild">`;
                                if("{{user_data.additionalInfo.haveChildren}}"){

                                    html += `<option selected>`+haveChild+`</option>`;
                                } else {
                                    html += `<option value="">Do You Have Children</option>`;
                                }
                                for(let i = 0; i < data.haveChildren.length; i++ ){
                                    if(haveChild != data.haveChildren[i]){
                                        html += `<option>`+data.haveChildren[i]+`</option>`
                                    }
                                }
                                html += `</select>
                        </div>
                    </div>`;
        }

        if(data.wantChildren.length > 0){

            let checkWntChild = '';
            let wntChild = '';

            if("{{user_data.additionalInfo.wantChildren}}"){

                checkWntChild = "{{user_data.additionalInfo.wantChildren}}";
                if(checkWntChild == 'true'){
                    wntChild = 'Yes'    
                } else {
                    wntChild = 'No'
                }
            }
            
            html  += `<div class="col-lg-6">
                        <div class="form-group">
                            <label>Want To Have Children</label>
                            <select class="form-control custom-select" id="wntChild">`;
                                if("{{user_data.additionalInfo.wantChildren}}"){
                                    html += `<option selected>`+wntChild+`</option>`;
                                } else {
                                    html += `<option value="">Want To Have Children</option>`;
                                }
                                for(let i = 0; i < data.wantChildren.length; i++ ){
                                    if(wntChild != data.wantChildren[i]){
                                        html += `<option>`+data.wantChildren[i]+`</option>`
                                    }
                                }
                                html += `</select>
                        </div>
                    </div>`;
        }

        if(data.connections.length > 0){

            userConn = "{{user_data.additionalInfo.connections}}";
            userConn = userConn.split(',');
            
            html  += `<div class="col-md-12">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label>Connections</label>
                                        <div class="connections">`;
                                            
                                            if(data.connections.length > 0){

                                                for(let i = 0; i < data.connections.length; i++){
                                                    let conn = data.connections[i].replace(/ /g,"_");
                                                    html += `<div class="custom-checkbox right"><input type="checkbox" class="custom-control-input `+conn+`" name="connections" value="`+data.connections[i]+`" id="con-check-`+i+`"><label class="custom-control-label" for="con-check-`+i+`">`+data.connections[i]+`</label></div>`;
                                                }
                                            }
                                        html += `</div>
                                    </div>
                                </div>
                            </div>
                        </div>`;
        }

        if(data.aboutMe.length > 0){

            html += `<div class="col-lg-6">
                <div class="about-me">
                    <label>About Me</label>
                    <select class="form-control custom-select title" id="aboutMeTitle">`;
                    if("{{user_data.additionalInfo.aboutMe}}"){
                        html += `<option selected>{{user_data.additionalInfo.aboutMe.title}}</option>`;
                    }
                    for(let i = 0; i < data.aboutMe.length; i++){
                        if("{{user_data.additionalInfo.aboutMe.title}}" != data.aboutMe[i]){
                            html += `<option>`+data.aboutMe[i]+`</option>`
                        }
                    }
                    html += `</select>`;
                    if("{{user_data.additionalInfo.aboutMe}}"){
                        html += `<textarea class="form-control summary" placeholder="Type here" id="aboutMeAns">{{user_data.additionalInfo.aboutMe.ans}}</textarea>`;
                    } else {
                        html += `<textarea class="form-control summary" placeholder="Type here" id="aboutMeAns"></textarea>`;
                    }
                    html += `<div class="save-btn"><a href="javascript:void(0)" onclick="saveDetails();">Save</a></div>
                </div>
            </div>`;
        }

        if(data.moments.length > 0){
            
            html += `<div class="col-lg-6">
                <div class="about-me">
                    <label>Moments</label>
                    <select class="form-control custom-select title" id="momentsTitle">`;
                    
                    if("{{user_data.additionalInfo.moments}}"){
                        html += `<option selected>{{user_data.additionalInfo.moments.title}}</option>`;
                    }
                    for(let i = 0; i < data.moments.length; i++){
                        if("{{user_data.additionalInfo.moments.title}}" != data.moments[i]){
                            html += `<option>`+data.moments[i]+`</option>`
                        }
                    }
                    html += `</select>`;
                    if("{{user_data.additionalInfo.moments}}"){
                        html += `<textarea class="form-control summary" placeholder="Type here" id="momentsAns">{{user_data.additionalInfo.moments.ans}}</textarea>`;
                    } else {
                        html += `<textarea class="form-control summary" placeholder="Type here" id="momentsAns"></textarea>`;
                    }

                    html += `<div class="save-btn"><a href="javascript:void(0)" onclick="saveDetails();">Save</a></div>
                </div>
            </div>`;
        }

        if(data.traits.length > 0){
            
            html += `<div class="col-lg-6">
                <div class="about-me">
                    <label>Traits</label>
                    <select class="form-control custom-select title" id="traitsTitle">`;

                    if("{{user_data.additionalInfo.traits}}"){
                        html += `<option selected>{{user_data.additionalInfo.traits.title}}</option>`;
                    }
                    for(let i = 0; i < data.traits.length; i++){
                        if("{{user_data.additionalInfo.traits.title}}" != data.traits[i]){
                            html += `<option>`+data.traits[i]+`</option>`
                        }
                    }
                    html += `</select>`;
                    if("{{user_data.additionalInfo.traits}}"){
                        html += `<textarea class="form-control summary" placeholder="Type here" id="traitsAns">{{user_data.additionalInfo.traits.ans}}</textarea>`;
                    } else {
                        html += `<textarea class="form-control summary" placeholder="Type here" id="traitsAns"></textarea>`;
                    }

                    html += `<div class="save-btn"><a href="javascript:void(0)" onclick="saveDetails();">Save</a></div>
                </div>
            </div>`;
        }
        
        if(data.aspirations.length > 0){
            
            html += `<div class="col-lg-6">
                <div class="about-me">
                    <label>Aspirations</label>
                    <select class="form-control custom-select title" id="aspirationsTitle">`;

                    if("{{user_data.additionalInfo.aspirations}}"){
                        html += `<option selected>{{user_data.additionalInfo.aspirations.title}}</option>`;
                    }
                    for(let i = 0; i < data.aspirations.length; i++){
                        if("{{user_data.additionalInfo.aspirations.title}}" != data.aspirations[i]){
                            html += `<option>`+data.aspirations[i]+`</option>`
                        }
                    }
                    html += `</select>`;
                    if("{{user_data.additionalInfo.aspirations}}"){
                        html += `<textarea class="form-control summary" placeholder="Type here" id="aspirationsAns">{{user_data.additionalInfo.aspirations.ans}}</textarea>`;
                    } else {
                        html += `<textarea class="form-control summary" placeholder="Type here" id="aspirationsAns"></textarea>`;
                    }

                    html += `<div class="save-btn"><a href="javascript:void(0)" onclick="saveDetails();">Save</a></div>
                </div>
            </div>`;
        }

        if(data.needs.length > 0){
            
            html += `<div class="col-lg-6">
                <div class="about-me">
                    <label>Needs</label>
                    <select class="form-control custom-select title" id="needsTitle">`;

                    if("{{user_data.additionalInfo.needs}}"){
                        html += `<option selected>{{user_data.additionalInfo.needs.title}}</option>`;
                    }
                    for(let i = 0; i < data.needs.length; i++){
                        if("{{user_data.additionalInfo.needs.title}}" != data.needs[i]){
                            html += `<option>`+data.needs[i]+`</option>`
                        }
                    }
                    html += `</select>`;
                    if("{{user_data.additionalInfo.needs}}"){
                        html += `<textarea class="form-control summary" placeholder="Type here" id="needsAns">{{user_data.additionalInfo.needs.ans}}</textarea>`;
                    } else {
                        html += `<textarea class="form-control summary" placeholder="Type here" id="needsAns"></textarea>`;
                    }

                    html += `<div class="save-btn"><a href="javascript:void(0)" onclick="saveDetails();">Save</a></div>
                </div>
            </div>`;
        }
        
        if(data.secrets.length > 0){
            
            html += `<div class="col-lg-6">
                <div class="about-me">
                    <label>Secrets</label>
                    <select class="form-control custom-select title" id="secretsTitle">`;

                    if("{{user_data.additionalInfo.secrets}}"){
                        html += `<option selected>{{user_data.additionalInfo.secrets.title}}</option>`;
                    }
                    for(let i = 0; i < data.secrets.length; i++){
                        if("{{user_data.additionalInfo.secrets.title}}" != data.secrets[i]){
                            html += `<option>`+data.secrets[i]+`</option>`
                        }
                    }
                    html += `</select>`;
                    if("{{user_data.additionalInfo.secrets}}"){
                        html += `<textarea class="form-control summary" placeholder="Type here" id="secretsAns">{{user_data.additionalInfo.secrets.ans}}</textarea>`;
                    } else {
                        html += `<textarea class="form-control summary" placeholder="Type here" id="secretsAns"></textarea>`;
                    }

                    html += `<div class="save-btn"><a href="javascript:void(0)" onclick="saveDetails();">Save</a></div>
                </div>
            </div>`;
        }

        if(data.hobbies.length > 0){
            
            html += `<div class="col-lg-6">
                <div class="about-me">
                    <label>Hobbies</label>
                    <select class="form-control custom-select title" id="hobbiesTitle">`;

                    if("{{user_data.additionalInfo.hobbies}}"){
                        html += `<option selected>{{user_data.additionalInfo.hobbies.title}}</option>`;
                    }
                    for(let i = 0; i < data.hobbies.length; i++){
                        if("{{user_data.additionalInfo.hobbies.title}}" != data.hobbies[i]){
                            html += `<option>`+data.hobbies[i]+`</option>`
                        }
                    }
                    html += `</select>`;
                    if("{{user_data.additionalInfo.hobbies}}"){
                        html += `<textarea class="form-control summary" placeholder="Type here" id="hobbiesAns">{{user_data.additionalInfo.hobbies.ans}}</textarea>`;
                    } else {
                        html += `<textarea class="form-control summary" placeholder="Type here" id="hobbiesAns"></textarea>`;
                    }

                    html += `<div class="save-btn"><a href="javascript:void(0)" onclick="saveDetails();">Save</a></div>
                </div>
            </div>`;
        }

        if(data.whatYouSay.length > 0){
            
            html += `<div class="col-lg-6">
                <div class="about-me">
                    <label>What You Say</label>
                    <select class="form-control custom-select title" id="whatYouSayTitle">`;
                    
                    if("{{user_data.additionalInfo.whatYouSay}}"){
                        html += `<option selected>{{user_data.additionalInfo.whatYouSay.title}}</option>`;
                    }
                    for(let i = 0; i < data.whatYouSay.length; i++){
                        if("{{user_data.additionalInfo.whatYouSay.title}}" != data.whatYouSay[i]){
                            html += `<option>`+data.whatYouSay[i]+`</option>`
                        }
                    }
                    html += `</select>`;
                    if("{{user_data.additionalInfo.whatYouSay}}"){
                        html += `<textarea class="form-control summary" placeholder="Type here" id="whatYouSayAns">{{user_data.additionalInfo.whatYouSay.ans}}</textarea>`;
                    } else {
                        html += `<textarea class="form-control summary" placeholder="Type here" id="whatYouSayAns"></textarea>`;
                    }

                    html += `<div class="save-btn"><a href="javascript:void(0)" onclick="saveDetails();">Save</a></div>
                </div>
            </div>`;
        }

        $('.addiDetail').html(html);

        for (let j = 0; j < userConn.length; j++) {
            let conn = userConn[j].replace(/ /g,"_");
            $('.'+conn).attr('checked','checked');
        }
    }

    // [ Update ]
    $('body').on('click', '.updateBtn', function () {

        var firstName = $('.fname').val();
        var lastName = $('.lname').val();
        var username = $('.uname').val();
        var email = $('.email').val();
        var phno = $('.phno').val();
        var dob = $('.dob').val();
        var gender = $('.gender').val();
        var country = $('.country').val();
        var state = $('.state').val();
        var city = $('.city').val();
        var location = $('.location').val();
        var institute = $('.institute').val();
        var zodiacSign = $('.zodiacSign').val();
        var relationshipStatus = $('.relationshipStatus').val();

        var val = [];
        $(':checkbox:checked').each(function (i) {
            val[i] = $(this).val();
        });
        $.each($("input[name='sport']:checked"), function () {
            favorite.push($(this).val());
        });
        var connections = val;
        var show = $('.show').val();
        var relationshipStatus = $('.relationshipStatus').val();
        var ageRange = $('.ageRange').val();
        var race = $('.race').val();
        var sexualOrientation = $('.sexualOrientation').val();
        var religion = $('.religion').val();
        var bodyType = $('.bodyType').val();
        var occupation = $('.occupation').val();
        var wantChildren = $('.wantChildren').val();
        var home = $('.home').val();
        var income = $('.income').val();
        var haveChildren = $('.haveChildren').val();
        var educationLevel = $('.educationLevel').val();
        var ethnicity = $('.ethnicity').val();
        var lat = $('.lat').val();
        var long = $('.long').val();
        let dt = {
            userId: userId,
            firstName: firstName,
            lastName: lastName,
            username: username,
            email: email,
            phno: phno,
            dob: dob,
            gender: gender,
            country: country,
            state: state,
            city: city,
            location: location,
            institute: institute,
            zodiacSign: zodiacSign,
            relationshipStatus: relationshipStatus,

            connections: connections,
            // show: show,
            // relationshipStatus: relationshipStatus,
            // ageRange: ageRange,
            // race: race,
            // sexualOrientation: sexualOrientation,
            // religion: religion,
            // bodyType: bodyType,
            // occupation: occupation,
            // wantChildren: wantChildren,
            // educationLevel: educationLevel,
            // home: home,
            // haveChildren: haveChildren,
            // income: income,
            // ethnicity: ethnicity,
            // lat: lat,
            // long: long
        }
        console.log('dt: ', dt);
        $.ajax({
            url: "api/profile/editProfile",
            type: 'POST',
            headers: { 'token': token },
            data: dt,
            success: function (result) {
                console.log('result: ', result);
                if (result.status == 'success') {
                    toastr.success(result.message);
                    $('#additional-info')[0].click();
                }
                else {
                    toastr.error(result.message);
                }
            }
        });
    });


    function saveDetails(){

        let income = $("#income").val();
        let occupation = $("#occupation").val();
        let educationLevel = $("#educationLevel").val();
        let ethnicity = $("#ethnicity").val();
        let hvChild = $("#hvChild").val();
        let wntChild = $("#wntChild").val();

        if(hvChild){
            if(hvChild == "Yes"){
                hvChild = '1';
            } else {
                hvChild = '0';
            }
        }

        if(wntChild){
            if(wntChild == "Yes"){
                wntChild = '1';
            } else {
                wntChild = '0';
            }
        }

        let summry = $("#summry").val();
        
        let connections = [];
        $.each($("input[name='connections']:checked"), function(){            
            connections.push($(this).val());
        });

        let aboutMeTitle = $("#aboutMeTitle").val();
        let aboutMeAns = $("#aboutMeAns").val();
        let momentsTitle = $("#momentsTitle").val();
        let momentsAns = $("#momentsAns").val();
        let traitsTitle = $("#traitsTitle").val();
        let traitsAns = $("#traitsAns").val();
        let aspirationsTitle = $("#aspirationsTitle").val();
        let aspirationsAns = $("#aspirationsAns").val();
        let needsTitle = $("#needsTitle").val();
        let needsAns = $("#needsAns").val();
        let secretsTitle = $("#secretsTitle").val();
        let secretsAns = $("#secretsAns").val();
        let hobbiesTitle = $("#hobbiesTitle").val();
        let hobbiesAns = $("#hobbiesAns").val();
        let whatYouSayTitle = $("#whatYouSayTitle").val();
        let whatYouSayAns = $("#whatYouSayAns").val();
        
        let updateData = {
            userId  : userId,
            income : income,
            occupation : occupation,
            educationLevel : educationLevel,
            ethnicity : ethnicity,
            haveChildren : hvChild,
            wantChildren : wntChild,
            summary : summry,
            connections : connections,
            aboutMeTitle : aboutMeTitle,
            aboutMeAns : aboutMeAns,
            momentsTitle : momentsTitle,
            momentsAns : momentsAns,
            traitsTitle : traitsTitle,
            traitsAns : traitsAns,
            aspirationsTitle : aspirationsTitle,
            aspirationsAns : aspirationsAns,
            needsTitle : needsTitle,
            needsAns : needsAns,
            secretsTitle : secretsTitle,
            secretsAns : secretsAns,
            hobbiesTitle : hobbiesTitle,
            hobbiesAns : hobbiesAns,
            whatYouSayTitle : whatYouSayTitle,
            whatYouSayAns : whatYouSayAns,
        }

        $.ajax(
        {
            url: "/api/profile/editProfile",
            type: 'POST',
            headers: { 'token': token },
            data: updateData,
            success: function(result){
                if (result.status == 'success'){
                    toastr.success("Saved successfully");
                } else {
                    console.log("fail basic field",result);
                    toastr.fail("Fail to Save Detail, Try Again Later");
                }
            }
        });
    }

    function getState(sel) {
        let data = { 'countryId': sel.value };
        //console.log("getState: ",data);
        $.ajax({
            url: "/api/profile/getStates",
            type: 'POST',
            headers: { 'token': token },
            data: data,
            success: function (result) {
                let optionHtml = '';
                if (result.data.stateList) {
                    optionHtml = '<option value="">Select State</option>';

                    for (let i = 0; i < result.data.stateList.length; i++) {
                        optionHtml += '<option value="' + result.data.stateList[i]._id + '" name="' + result.data.stateList[i].name + '">' + result.data.stateList[i].name + '</option>';
                    }
                }
                else {
                    optionHtml += `<option value="">No States</option>`;
                    let optionHtmlCity = `<option value="">No City</option>`;
                    $('#cityId').html(optionHtmlCity);
                }
                $('#stateId').html(optionHtml);
            }
        });
    }

    function getCity(sel) {
        let data = { 'stateId': sel.value };
        //console.log("getCity: ",data);
        $.ajax({
            url: "/api/profile/getCities",
            type: 'POST',
            headers: { 'token': token },
            data: data,
            success: function (result) {
                let optionHtml = '';
                if (result.data.cityList) {
                    optionHtml = '<option value="">Select City</option>';

                    for (let i = 0; i < result.data.cityList.length; i++) {
                        optionHtml += '<option value="' + result.data.cityList[i]._id + '" name="' + result.data.cityList[i].name + '">' + result.data.cityList[i].name + '</option>';
                    }
                } else {
                    optionHtml += `<option value="">No City</option>`;
                }
                $('#cityId').html(optionHtml);
            }
        });

    }

    // [ Darshan Script ]
    $('body').on('click', '.edit-btn', function(){
        $(this).replaceWith(`<a href="#" class="save-btn">
                        <i class="fa fa-floppy-o" aria-hidden="true"></i>
                      </a>`);
        let name = $('.usName').attr('data-name');
        let html = `<input type="text" class="form-control tmpIn" value="`+name+`">`;
        $('.usName').html(html);
    });

    $('body').on('click', '.save-btn', function(){

        let nm = $('.tmpIn').val();
        let dt = { userId: userId, username: nm };
        // [ AJAX ]
        $.ajax({
            url: "api/profile/editProfile",
            type: 'POST',
            headers: { 'token': token },
            data: dt,
            success: function (result) {
                if (result.status == 'success') {
                    $('.uname').attr('value',nm);
                    toastr.success(result.message);
                }
                else {
                    toastr.error(result.message);
                }
            }
        });

        $(this).replaceWith(`<a href="#" class="edit-btn">
                        <i class="flava-edit"></i>
                      </a>`);
        let html = `<span class="usName" data-name="`+nm+`">`+nm+`</span>`;
        $('.tmpIn').remove();
        $('.usName').replaceWith(html);
    });
    
    
</script>

<!-- age range slider start -->
<script>

        // [ Slieder - 1 ]
        // var select = document.getElementById('input-select');
        // var selectOp2 = document.getElementById('input-selectOp2');

        // // Append the option elements
        // for (var i = 18; i <= 70; i++) {
        //     var option = document.createElement("option");
        //     option.text = i;
        //     option.value = i;
        //     // select.appendChild(option);
        // }

        // var html5Slider = document.getElementById('html5');

        // noUiSlider.create(html5Slider, {
        //     start: [18, 30],
        //     connect: true,
        //     range: {
        //         'min': 18,
        //         'max': 70
        //     }
        // });

        // let inputNumber = document.getElementById('input-select2');

        // html5Slider.noUiSlider.on('update', function (values, handle) {
        //     console.log('update: ',values);
        //     console.log('handle: ',handle);
        //     var value = values[handle];
        //     console.log('value: ',value);
        //     if (handle==1) {
        //         console.log('value32: ',value);
        //         inputNumber.value = value;
        //     } else {
        //         select.value = Math.round(value);
        //     }
        // });

        // select.addEventListener('change', function () {
        //     html5Slider.noUiSlider.set([this.value, null]);
        // });

        // inputNumber.addEventListener('change', function () {
        //     html5Slider.noUiSlider.set([null, this.value]);
        // });
</script>
<!-- age range slider end -->

<!-- distince -->
<script>
        // var rangeSlider = document.querySelector(".slider-range");

        // noUiSlider.create(rangeSlider, {
        // start: [50],
        // connect: [true, false],
        // step: 1,
        // range: {
        //     min: [1],
        //     max: [250]
        // }
        // });

        // /* begin Value  */
        // var rangeSliderValueElement = document.querySelector(".slider-range-value");

        // rangeSlider.noUiSlider.on("update", function(values, handle) {
        // });
        // /* end Value  */

        // /* begin Tab */
        // var handle = rangeSlider.querySelector(".noUi-handle");

        // handle.setAttribute("tabindex", 0);

        // handle.addEventListener("click", function() {
        // this.focus();
        // });

        // handle.addEventListener("keydown", function(event) {
        // var value = Number(rangeSlider.noUiSlider.get());

        // switch (event.which) {
        //     case 37:
        //     rangeSlider.noUiSlider.set(value - 1);
        //     break;
        //     case 39:
        //     rangeSlider.noUiSlider.set(value + 1);
        //     break;
        // }
        // });
</script>

<script>

    $(document).ready(function() {
        var readURL = function(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('.profile-pic').attr('src', e.target.result);
                }
        
                reader.readAsDataURL(input.files[0]);
                
            }                
        }

        $(".file-upload").on('change', function () {
            readURL(this);
        });

        $(".upload-button").on('click', function () {
            $(".file-upload").click();
        }); 
    });

    let myLatLang = document.getElementById("latLang");

    function getLatLang() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else { 
            myLatLang.innerHTML = "Geolocation is not supported by this browser.";
        }
    }

    function showPosition(position) {

        $('#latLang').val("Lat: " + position.coords.latitude + " & Long: " + position.coords.longitude);
        
        //myLatLang.innerHTML = "latitude: " + position.coords.latitude + "<br>longitude: " + position.coords.longitude;

        /*var latlon = position.coords.latitude + "," + position.coords.longitude;

        var img_url = "https://maps.googleapis.com/maps/api/staticmap?center="+latlon+"&zoom=14&size=400x300&sensor=false&key=AIzaSyDX6XaEmHBgsRuim5TLshcQd1v0TXNaAUM";

        myLatLang.innerHTML = "<img src='"+img_url+"'>";*/
    }

</script>
{% endblock %}